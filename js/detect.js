id_key=(e="get",n="")=>{if("set"!=e)return sessionStorage.getItem("uq_id");sessionStorage.setItem("uq_id",n)},detect=()=>{let n=!1,i=!1,e=!1,a=!1,t=!1,s=!1,r=!1;var o=!1,d=new XMLHttpRequest;d.open("GET",document.location,!1),d.send(),d.getResponseHeader("via")&&(o=!0),navigator.getBattery().then(function(e){e.charging&&0===e.chargingTime?n=!0:i=!0}),-1<navigator.userAgent.toLowerCase().indexOf("android")&&(e=!0);var p=window.navigator.userAgent,g=window.navigator.platform,u=null;-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(g)?u="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(g)?(r=!0,u="iOS"):-1!==["Win32","Win64","Windows","WinCE"].indexOf(g)?(s=!0,u="Windows"):/Android/.test(p)?(e=!0,u="Android"):!u&&/Linux/.test(g)&&(a=!0,u="Linux");-1!=navigator.appVersion.indexOf("Win")&&(s=!0),-1!=navigator.appVersion.indexOf("Mac")&&(t=!0,a=!1);navigator.appVersion;var f=navigator.userAgent,x=navigator.appName,O=""+parseFloat(navigator.appVersion),d=parseInt(navigator.appVersion,10);-1!=(p=f.indexOf("OPR/"))?(x="Opera",O=f.substring(p+4)):-1!=(p=f.indexOf("Opera"))?(x="Opera",O=f.substring(p+6),-1!=(p=f.indexOf("Version"))&&(O=f.substring(p+8))):-1!=(p=f.indexOf("MSIE"))?(x="Microsoft Internet Explorer",O=f.substring(p+5)):-1!=(p=f.indexOf("Chrome"))?(x="Chrome",O=f.substring(p+7)):-1!=(p=f.indexOf("Safari"))?(x="Safari",O=f.substring(p+7),-1!=(p=f.indexOf("Version"))&&(O=f.substring(p+8))):-1!=(p=f.indexOf("Firefox"))?(x="Firefox",O=f.substring(p+8)):(g=f.lastIndexOf(" ")+1)<(p=f.lastIndexOf("/"))&&(x=f.substring(g,p),O=f.substring(p+1),x.toLowerCase()==x.toUpperCase()&&(x=navigator.appName)),-1!=(f=O.indexOf(";"))&&(O=O.substring(0,f)),-1!=(f=O.indexOf(" "))&&(O=O.substring(0,f)),d=parseInt(""+O,10),isNaN(d)&&(O=""+parseFloat(navigator.appVersion),d=parseInt(navigator.appVersion,10));var v,h=[],l=0,p="unk",u="unk",f=x+" "+d,O=screen.width+"x"+screen.height,x=(new Date).getTime(),d=id_key("get");if(null==d){1==n&&1==i?p="unk":1==n&&0==i?p="desktop":0==n&&0==i&&(p="laptop/mobile"),h.push(e),h.push(s),h.push(a),h.push(t),h.push(r);for(var c=0;c<h.length;c++)h[c]&&(l+=1,v=c);1==l&&(0==v?u="android":1==v?u="windows":2==v?u="linux":3==v?u="mac_os":4==v&&(u="ios")),$.post("/validate.php",{timestamp:x,dev_type:p,os:u,s_size:O,proxy:o,log:f},function(e,n){id_key("set","a4d8jhad5h2s9e8harskut3")})}},detect();
